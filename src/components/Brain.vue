<template>
  <div id="noodle">
    <transition name="fade">
      <span v-if="showBrainInfo" class="brainInfo status">
        <span class="heading">Tumour free</span><br />{{ daysTumourFree }} days
      </span>
    </transition>
    <svg id="footer-brain" :class="['brain', showBrainInfo ? 'active' : null]" @click="toggleBrainInfo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 463 463" xmlns:v="https://vecta.io/nano"><path d="M151.245 222.446C148.054 237.039 135.036 248 119.5 248a7.5 7.5 0 1 0 0 15c23.774 0 43.522-17.557 46.966-40.386 14.556-1.574 27.993-8.06 38.395-18.677a7.5 7.5 0 0 0-.109-10.606c-2.958-2.897-7.707-2.851-10.606.108A48.13 48.13 0 0 1 159.5 208c-26.743 0-48.5-21.757-48.5-48.5a7.5 7.5 0 1 0-15 0c0 32.215 24.119 58.884 55.245 62.946zM183 287.5a7.5 7.5 0 0 0-7.5-7.5c-35.014 0-63.5 28.486-63.5 63.5 0 .362.013.725.019 1.088-2.789-.376-5.629-.588-8.519-.588a7.5 7.5 0 1 0 0 15c26.743 0 48.5 21.757 48.5 48.5a7.5 7.5 0 1 0 15 0c0-26.611-16.462-49.437-39.731-58.867-.178-1.699-.269-3.418-.269-5.133 0-26.743 21.757-48.5 48.5-48.5a7.5 7.5 0 0 0 7.5-7.5zm256-64c0-17.075-6.82-33.256-18.875-45.156A62.99 62.99 0 0 0 423 159.5c0-30.874-22.152-56.659-51.394-62.329C373.841 91.6 375 85.628 375 79.5c0-19.557-11.883-36.387-28.806-43.661C317.999 13.383 287.162 0 263.5 0c-13.153 0-24.817 6.468-32 16.384C224.317 6.468 212.653 0 199.5 0c-23.662 0-54.499 13.383-82.694 35.839C99.883 43.113 88 59.943 88 79.5c0 6.128 1.159 12.1 3.394 17.671C62.152 102.841 40 128.626 40 159.5c0 6.418.965 12.735 2.875 18.844C30.82 190.244 24 206.425 24 223.5c0 13.348 4.149 25.741 11.213 35.975C27.872 270.087 24 282.466 24 295.5c0 23.088 12.587 44.242 32.516 55.396A72.12 72.12 0 0 0 56 359.5c0 31.144 20.315 58.679 49.79 68.063C118.611 449.505 141.965 463 167.5 463c27.995 0 52.269-16.181 64-39.674 11.731 23.493 36.005 39.674 64 39.674 25.535 0 48.889-13.495 61.71-35.437 29.475-9.385 49.79-36.92 49.79-68.063a72.12 72.12 0 0 0-.516-8.604C426.413 339.742 439 318.588 439 295.5c0-13.034-3.872-25.413-11.213-36.025C434.851 249.241 439 236.848 439 223.5zM167.5 448c-21.029 0-40.191-11.594-50.009-30.256a7.5 7.5 0 0 0-4.688-3.751C88.19 407.369 71 384.961 71 359.5c0-3.81.384-7.626 1.141-11.344a7.5 7.5 0 0 0-4.302-8.35C50.32 332.018 39 314.626 39 295.5c0-8.699 2.256-17.014 6.561-24.379C56.757 280.992 71.436 287 87.5 287a7.5 7.5 0 1 0 0-15C60.757 272 39 250.243 39 223.5c0-14.396 6.352-27.964 17.428-37.221a7.5 7.5 0 0 0 2.14-8.574C56.2 171.869 55 165.744 55 159.5c0-26.743 21.757-48.5 48.5-48.5s48.5 21.757 48.5 48.5a7.5 7.5 0 1 0 15 0c0-33.642-26.302-61.243-59.421-63.355C104.577 91.127 103 85.421 103 79.5c0-13.369 8.116-24.875 19.678-29.859a7.41 7.41 0 0 0 1.308-.527C127.568 47.752 131.447 47 135.5 47c12.557 0 23.767 7.021 29.256 18.325a7.5 7.5 0 0 0 13.493-6.552c-6.266-12.903-18.125-22.177-31.782-25.462C165.609 21.631 184.454 15 199.5 15c13.509 0 24.5 10.99 24.5 24.5v97.051c-6.739-5.346-15.25-8.551-24.5-8.551a7.5 7.5 0 1 0 0 15c13.509 0 24.5 10.99 24.5 24.5v180.279c-9.325-12.031-22.471-21.111-37.935-25.266-3.999-1.071-8.114 1.297-9.189 5.297a7.5 7.5 0 0 0 5.297 9.189C206.8 343.616 224 366.027 224 391.5c0 31.154-25.346 56.5-56.5 56.5zm227.661-108.193a7.5 7.5 0 0 0-4.302 8.35c.757 3.718 1.141 7.534 1.141 11.344 0 25.461-17.19 47.869-41.803 54.493-2.017.543-3.716 1.902-4.688 3.751C335.691 436.406 316.529 448 295.5 448c-31.154 0-56.5-25.346-56.5-56.5a71.22 71.22 0 0 0-.281-6.271c.178-.641.281-1.314.281-2.012V135.5c0-13.51 10.991-24.5 24.5-24.5a7.5 7.5 0 1 0 0-15c-9.25 0-17.761 3.205-24.5 8.551V39.5c0-13.51 10.991-24.5 24.5-24.5 15.046 0 33.891 6.631 53.033 18.311-13.657 3.284-25.516 12.559-31.782 25.462a7.5 7.5 0 0 0 13.493 6.552C303.733 54.021 314.943 47 327.5 47a32.32 32.32 0 0 1 11.514 2.114c.422.22.86.393 1.305.526C351.883 54.624 360 66.13 360 79.5c0 5.921-1.577 11.627-4.579 16.645C322.302 98.257 296 125.858 296 159.5a7.5 7.5 0 1 0 15 0c0-26.743 21.757-48.5 48.5-48.5s48.5 21.757 48.5 48.5c0 6.244-1.2 12.369-3.567 18.205a7.5 7.5 0 0 0 2.14 8.574C417.648 195.536 424 209.104 424 223.5c0 26.743-21.757 48.5-48.5 48.5a7.5 7.5 0 1 0 0 15c16.064 0 30.743-6.008 41.939-15.879 4.306 7.365 6.561 15.68 6.561 24.379 0 19.126-11.32 36.518-28.839 44.307zM359.5 240c-15.536 0-28.554-10.961-31.745-25.554C358.881 210.384 383 183.715 383 151.5a7.5 7.5 0 1 0-15 0c0 26.743-21.757 48.5-48.5 48.5a48.13 48.13 0 0 1-34.646-14.561 7.5 7.5 0 0 0-10.715 10.498c10.402 10.617 23.839 17.103 38.395 18.677C315.978 237.443 335.726 255 359.5 255a7.5 7.5 0 1 0 0-15zm-24 88c-2.89 0-5.73.212-8.519.588L327 327.5c0-35.014-28.486-63.5-63.5-63.5a7.5 7.5 0 1 0 0 15c26.743 0 48.5 21.757 48.5 48.5a49.36 49.36 0 0 1-.269 5.133C288.462 342.063 272 364.889 272 391.5a7.5 7.5 0 1 0 15 0c0-26.743 21.757-48.5 48.5-48.5a7.5 7.5 0 1 0 0-15z"/></svg>
    <transition name="fade">
      <span v-if="showBrainInfo" class="brainInfo mri">
        <span class="heading">Next MRI</span><br />Feb 2023
      </span>
    </transition>
  </div>
</template>

<script setup>
import { computed, ref } from 'vue'
let showBrainInfo = ref(false)
const daysTumourFree = computed(() => {
  const surgeryDay = new Date("02/26/2013");
  const today = new Date();
  var diff_time = today.getTime() - surgeryDay.getTime();
  const diff = diff_time / (1000 * 3600 * 24);
  return Math.ceil(diff) - 1;
})
function toggleBrainInfo() {
  showBrainInfo.value = !showBrainInfo.value
}
</script>

<style scoped>
#noodle {
  align-items: center;
  display: flex;
  justify-content: center;
  margin-top: 2rem;
}

#noodle .brainInfo {
  display: inline-block;
  font-size: 1.5rem;
  line-height: 1;
  margin-top: 0.65rem;
  margin-bottom: 0.75rem;
  position: absolute;
}

#noodle .brainInfo span.heading {
  font-size: 1rem;
  text-transform: uppercase;
}

#noodle .brainInfo.status {
  display: inline-block;
  text-align: right;
  transform: translateX(-85%);
}

#noodle .brainInfo.mri {
  display: inline-block;
  text-align: left;
  transform: translateX(85%);
}

#footer-brain {
  cursor: pointer;
  height: 3rem;
  transition: fill 250ms ease-in-out 0ms;
  width: 3rem;
}

#footer-brain.active, #footer-brain:hover {
  fill: rgb(247, 171, 171);
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 1s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

@media (min-width: 1024px) {
  #noodle {
    /* background: v-bind('primary'); */
    padding-bottom: 1rem;
  }
  #noodle .brainInfo {
    /* color: v-bind('lightText'); */
  }
  #noodle .brainInfo.status {
    /* border-right: 1px solid v-bind('lightText'); */
  }
  #footer-brain {
    /* fill: v-bind('lightText'); */
  }
}
</style>
